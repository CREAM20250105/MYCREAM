<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ブログ一覧 | CREAM</title>
  <meta name="description" content="株式会社クリームの最新ブログ記事を月別・人気順でフィルタリング。火災保険、営業、ライフハック情報を随時発信中。">
  <meta name="keywords" content="クリーム, ブログ, 火災保険, 営業, 人気記事, 月別, SEO">
  <meta property="og:title" content="CREAM ブログ一覧">
  <meta property="og:description" content="火災保険や営業代行の現場からリアルな情報を発信中。">
  <meta property="og:image" content="images/ogp-blog.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://cream-site.jp/blog">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #fefefe;
      color: #333;
    }
    header {
      background-color: #111;
      color: #fff;
      padding: 1em;
      text-align: center;
    }
    .container {
      padding: 2em;
      max-width: 960px;
      margin: auto;
    }
    h1 {
      color: #fbbd08;
    }
    .filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 1em;
      margin-bottom: 2em;
    }
    .filter-bar select, .filter-bar input[type="text"] {
      flex: 1;
      min-width: 140px;
      padding: 0.5em;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .blog-list {
      display: flex;
      flex-direction: column;
      gap: 2em;
    }
    .blog-item {
      padding: 1em;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fff;
      transition: box-shadow 0.3s ease;
      position: relative;
    }
    .blog-item:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .blog-item h3 {
      margin-top: 0;
      color: #111;
    }
    .blog-item .meta {
      font-size: 0.9em;
      color: #888;
    }
    .btn-read {
      margin-top: 1em;
      display: inline-block;
      background: #fbbd08;
      color: #000;
      padding: 0.5em 1em;
      border-radius: 4px;
      text-decoration: none;
    }
    .admin-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      display: none;
    }
    .admin-controls button {
      margin-left: 0.5em;
      padding: 0.3em 0.6em;
      font-size: 0.8em;
      border: none;
      background: #fbbd08;
      color: #111;
      cursor: pointer;
    }
    .blog-item.admin-visible .admin-controls {
      display: block;
    }
    .post-form {
      margin-top: 3em;
      padding: 2em;
      background: #fafafa;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .post-form input, .post-form textarea, .post-form button {
      display: block;
      width: 100%;
      margin-bottom: 1em;
      padding: 0.75em;
      font-size: 1em;
    }
    .blog-link-section {
      text-align: center;
      margin: 3em 0;
    }
    .blog-link-box {
      display: inline-block;
      text-decoration: none;
      max-width: 600px;
    }
    .blog-link-box img {
      display: block;
      margin: 0 auto;
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .blog-link-box h2 {
      color: #fbbd08;
      margin-top: 1em;
    }
    .blog-link-box p {
      color: #333;
    }
    footer {
      text-align: center;
      padding: 2em;
      background: #111;
      color: #fff;
      margin-top: 4em;
    }
    @media (max-width: 600px) {
      .filter-bar {
        flex-direction: column;
      }
      .container {
        padding: 1em;
      }
      .blog-link-box {
        width: 100%;
      }
      .post-form input, .post-form textarea, .post-form button {
        font-size: 0.9em;
        padding: 0.6em;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>CREAM ブログ一覧</h1>
    <p>最新情報をチェック！月別や人気順で絞り込み</p>
  </header>
  <div class="container">
    <div class="filter-bar">
      <select name="month" id="month-filter">
        <option value="">すべての月</option>
        <option value="2025-03">2025年3月</option>
        <option value="2025-02">2025年2月</option>
        <option value="2025-01">2025年1月</option>
      </select>
      <select name="sort" id="sort-filter">
        <option value="latest">最新順</option>
        <option value="popular">人気順</option>
      </select>
      <input type="text" placeholder="キーワード検索..." id="keyword">
    </div>

    <div class="blog-link-section">
      <a href="blog.html" class="blog-link-box">
        <img src="images/blog-banner.jpg" alt="ブログへ">
        <h2>最新ブログを見る</h2>
        <p>火災保険や営業、ライフスタイル情報を随時更新中！</p>
      </a>
    </div>

    <div class="blog-list" id="blog-list">
      <!-- 投稿されたブログ記事がここに追加される -->
    </div>

    <div class="post-form">
      <h2>ブログを投稿する（パスワード付き）</h2>
      <input type="password" id="admin-pass" placeholder="投稿パスワード">
      <input type="text" id="post-title" placeholder="タイトル">
      <textarea id="post-content" rows="5" placeholder="本文"></textarea>
      <button onclick="submitPost()">投稿する</button>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 CREAM. All rights reserved.</p>
  </footer>

  <script>
    const password = "n19900521";
    const blogList = document.getElementById("blog-list");
    let isAdmin = false;

    window.onload = () => {
      const savedPosts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
      savedPosts.forEach((post, index) => addPostToDOM(post, index));
    };

    function submitPost() {
      const inputPass = document.getElementById("admin-pass").value;
      const title = document.getElementById("post-title").value;
      const content = document.getElementById("post-content").value;

      if (inputPass !== password) {
        alert("パスワードが違います。");
        return;
      }

      isAdmin = true;

      const newPost = {
        title,
        content,
        timestamp: new Date().toLocaleString()
      };

      const posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
      posts.unshift(newPost);
      localStorage.setItem("blogPosts", JSON.stringify(posts));

      blogList.innerHTML = "";
      posts.forEach((post, index) => addPostToDOM(post, index));

      alert("投稿が完了しました。");

      document.getElementById("post-title").value = "";
      document.getElementById("post-content").value = "";
      document.getElementById("admin-pass").value = "";
    }

    function addPostToDOM(post, index) {
      const postEl = document.createElement("div");
      postEl.classList.add("blog-item");
      if (isAdmin) postEl.classList.add("admin-visible");
      postEl.innerHTML = `
        <h3>${post.title}</h3>
        <div class="meta">投稿日時: ${post.timestamp}</div>
        <p>${post.content}</p>
        <a href="#" class="btn-read">続きを読む</a>
        <div class="admin-controls">
          <button onclick="editPost(${index})">編集</button>
          <button onclick="deletePost(${index})">削除</button>
        </div>
      `;
      blogList.appendChild(postEl);
    }

    function deletePost(index) {
      if (!confirm("本当に削除しますか？")) return;
      const posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
      posts.splice(index, 1);
      localStorage.setItem("blogPosts", JSON.stringify(posts));
      blogList.innerHTML = "";
      posts.forEach((post, idx) => addPostToDOM(post, idx));
    }

    function editPost(index) {
      const posts = JSON.parse(localStorage.getItem("blogPosts") || "[]");
      const post = posts[index];
      const newTitle = prompt("新しいタイトル", post.title);
      const newContent = prompt("新しい内容", post.content);
      if (newTitle !== null && newContent !== null) {
        posts[index].title = newTitle;
        posts[index].content = newContent;
        localStorage.setItem("blogPosts", JSON.stringify(posts));
        blogList.innerHTML = "";
        posts.forEach((post, idx) => addPostToDOM(post, idx));
      }
    }
  </script>
</body>
</html>
